(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-Favorite"],{"34e7":function(t,e,n){"use strict";var i=n("df04"),a=n.n(i);a.a},"3bcd":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-scroll-view",{staticClass:"right-aside",attrs:{"scroll-with-animation":!0,"scroll-y":!0,"scroll-top":t.tabScrollTop},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.asideScroll.apply(void 0,arguments)}}},t._l(t.foodList,(function(e){return n("v-uni-view",{key:e.id,staticClass:"s-list",attrs:{id:"main-"+e.id}},[n("v-uni-view",{staticClass:"food-item"},[n("v-uni-view",[n("v-uni-image",{staticStyle:{width:"90px",height:"90px","margin-right":"5px","margin-top":"4px"},attrs:{src:e.img}})],1),n("v-uni-view",[n("v-uni-view",{staticStyle:{"font-size":"28upx",margin:"2px 0",height:"20px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navTo(e.foodId,e.img)}}},[t._v(t._s(e.title))]),n("v-uni-view",{staticStyle:{margin:"2px 0",height:"35px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.navTo(e.foodId,e.img)}}},[t._v(t._s(e.describe))]),n("v-uni-view",{staticStyle:{height:"35px"}},[n("v-uni-view",[t._v("已售"+t._s(e.sale)+"份，库存"+t._s(e.inventory)+"份")]),n("v-uni-view",[n("v-uni-text",{staticStyle:{color:"#fa436a","font-size":"26upx"}},[t._v("¥"+t._s(e.price.toFixed(2)))]),n("v-uni-text",{staticClass:"m-price"},[t._v("¥"+t._s(e.originalPrice.toFixed(2)))])],1)],1)],1),n("v-uni-view",{staticStyle:{width:"40px","text-align":"center"}},[n("v-uni-view",{staticStyle:{padding:"5px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.del(e.favoriteId)}}},[n("v-uni-text",{staticClass:"yticon icon-fork",staticStyle:{"font-size":"20px"}})],1),n("v-uni-view",{staticStyle:{padding:"5px","margin-top":"25px"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.addCart(e.foodId)}}},[n("v-uni-text",{staticClass:"yticon icon-jia1",staticStyle:{"font-size":"20px"}})],1)],1)],1)],1)})),1)],1)},r=[]},"4bbd":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),r={data:function(){return{userId:this.$store.state.userId,sizeCalcState:!1,tabScrollTop:0,menuId:0,currentId:1,foodList:[],list:[]}},onLoad:function(){this.loadData()},methods:{loadData:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http("/favorite/list",{userId:e.userId});case 2:e.foodList=n.sent,t.log(e.foodList);case 4:case"end":return n.stop()}}),n)})))()},addCart:function(e){var n=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.log("添加购物车："+e),i.next=3,n.$http("/cart/add",{foodId:e,userId:n.userId});case 3:a=i.sent,n.$api.msg(a);case 5:case"end":return i.stop()}}),i)})))()},del:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http("/favorite/del",{favoriteId:t});case 2:e.loadData();case 3:case"end":return n.stop()}}),n)})))()},onNavigationBarButtonTap:function(t){var e=this;uni.showModal({title:"提示",content:"是否确认清空收藏",success:function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.confirm){t.next=4;break}return t.next=3,e.$http("/favorite/remove",{userId:e.userId});case 3:e.loadData();case 4:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()})}}};e.default=r}).call(this,n("5a52")["default"])},5669:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-ec169da0],\n.content[data-v-ec169da0]{height:100%;background-color:#f8f8f8}.food-item[data-v-ec169da0]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;margin-top:5px;color:#606266;font-size:%?22?%}.add-cart[data-v-ec169da0]{font-size:20px;padding:6px;position:absolute;right:8px}.m-price[data-v-ec169da0]{margin:0 %?10?%;color:#909399;text-decoration:line-through}.right-aside[data-v-ec169da0]{overflow:hidden;padding-left:%?20?%}body.?%PAGE?%[data-v-ec169da0]{background-color:#f8f8f8}',""]),t.exports=e},"61f3":function(t,e,n){"use strict";n.r(e);var i=n("4bbd"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},de53:function(t,e,n){"use strict";n.r(e);var i=n("3bcd"),a=n("61f3");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("34e7");var o,c=n("f0c5"),s=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"ec169da0",null,!1,i["a"],o);e["default"]=s.exports},df04:function(t,e,n){var i=n("5669");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("dc061000",i,!0,{sourceMap:!1,shadowMode:!1})}}]);